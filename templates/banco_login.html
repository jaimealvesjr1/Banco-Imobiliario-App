{% extends "base.html" %}

{% block title %}AutenticaÃ§Ã£o de Autoridade MonetÃ¡ria{% endblock %}

{% block content %}
<div class="min-h-screen flex items-center justify-center py-10 px-4">
    <div class="bg-white rounded-[3rem] shadow-2xl w-full max-w-md mx-auto border-4 border-gray-900 overflow-hidden">
        
        <div class="bg-gray-900 p-10 text-center text-white relative">
            <div class="absolute inset-0 opacity-10 pointer-events-none">
                <div class="flex flex-wrap justify-center gap-4 p-4 text-2xl">
                    {% for i in range(10) %}<span>ğŸ”’</span>{% endfor %}
                </div>
            </div>
            
            <div class="inline-flex items-center justify-center w-20 h-20 rounded-3xl bg-cyan-500 text-gray-900 mb-6 shadow-xl transform rotate-3 border-4 border-gray-800">
                <span class="text-4xl">ğŸ›ï¸</span>
            </div>
            <h1 class="text-3xl font-black italic tracking-tighter uppercase leading-none text-cyan-400">Acesso Restrito</h1>
            <p class="text-[9px] font-black uppercase tracking-[0.4em] text-white/50 mt-4">Protocolo de Auditoria Central</p>
        </div>

        <div class="p-10">
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    {% for category, message in messages %}
                        <div class="p-4 mb-6 rounded-2xl text-[10px] font-black uppercase tracking-tight text-center border-2 animate-shake
                            {% if category == 'error' or category == 'warning' %}
                                bg-red-50 text-red-700 border-red-200
                            {% else %}
                                bg-green-50 text-green-700 border-green-200
                            {% endif %}">
                            {{ message }}
                        </div>
                    {% endfor %}
                {% endif %}
            {% endwith %}

            <form method="POST" action="{{ url_for('banco_login') }}" class="space-y-8">
                <div>
                    <label for="pin" class="block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-4 text-center italic">
                        Insira a Chave Mestra (PIN)
                    </label>
                    <input
                        type="password"
                        id="pin"
                        name="pin"
                        required
                        minlength="4"
                        maxlength="4"
                        inputmode="numeric"
                        placeholder="****"
                        class="w-full px-6 py-6 rounded-3xl border-2 border-gray-100 bg-gray-50 text-gray-900 focus:ring-4 focus:ring-cyan-500/10 focus:border-cyan-500 outline-none text-5xl font-black font-mono text-center tracking-[1rem] shadow-inner transition-all"
                    >
                </div>
                
                <button 
                    type="submit"
                    class="w-full py-6 bg-gray-900 hover:bg-black text-white font-black rounded-3xl transition-all text-xl shadow-2xl uppercase italic border-b-8 border-gray-700 active:border-b-0 active:translate-y-1"
                >
                    Desbloquear Sistema âš¡
                </button>
                
                <a href="{{ url_for('dashboard') }}" class="block text-center text-[9px] font-black text-gray-300 hover:text-gray-500 uppercase tracking-[0.2em] mt-6 transition-colors">
                    &larr; Retornar ao Terminal PÃºblico
                </a>
            </form>
        </div>
    </div>
</div>

<style>
    @keyframes shake {
        0%, 100% { transform: translateX(0); }
        25% { transform: translateX(-4px); }
        75% { transform: translateX(4px); }
    }
    .animate-shake { animation: shake 0.2s ease-in-out 0s 2; }
</style>
{% endblock %}
