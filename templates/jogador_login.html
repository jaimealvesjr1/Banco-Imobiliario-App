{% extends "base.html" %}

{% block content %}
<div class="min-h-screen flex items-center justify-center px-4">
    <div class="w-full max-w-sm bg-white rounded-[3rem] shadow-2xl overflow-hidden border-4" style="border-color: {{ jogador.color }}">
        
        <div class="p-10 text-center text-white" style="background-color: {{ jogador.color }}">
            <div class="w-24 h-24 bg-white/20 backdrop-blur-md rounded-[2rem] mx-auto flex items-center justify-center text-5xl shadow-xl mb-4 border-2 border-white/30">
                <span class="drop-shadow-lg">{{ jogador.name[0].upper() }}</span>
            </div>
            <h1 class="text-3xl font-black uppercase italic tracking-tighter">{{ jogador.name }}</h1>
            <p class="text-[9px] font-black uppercase tracking-[0.4em] opacity-70 mt-2">Área de Acesso Seguro</p>
        </div>

        <div class="p-10">
            {% with messages = get_flashed_messages() %}
                {% if messages %}
                    <div class="mb-6 p-4 bg-red-50 text-red-600 text-[10px] font-black rounded-2xl border-2 border-red-100 text-center uppercase animate-shake">
                        {{ messages[0] }}
                    </div>
                {% endif %}
            {% endwith %}

            <form method="POST" action="{{ url_for('jogador_auth', player_id=jogador_id) }}" class="space-y-8">
                <div class="text-center">
                    <label class="block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-4 italic">Insira seu PIN de 4 dígitos</label>
                    <input type="password" name="pin" inputmode="numeric" pattern="[0-9]*" maxlength="4" required autofocus
                        class="w-full text-center text-5xl font-black font-mono tracking-[1.5rem] p-6 bg-gray-50 rounded-3xl border-2 border-gray-100 focus:border-gray-300 focus:bg-white outline-none transition-all shadow-inner">
                </div>
                
                <button type="submit" class="w-full py-6 text-white font-black rounded-3xl shadow-xl transition-all active:scale-95 uppercase italic text-lg border-b-4 border-black/20" style="background-color: {{ jogador.color }}">
                    Autenticar ⚡
                </button>
                
                <a href="{{ url_for('dashboard') }}" class="block text-center text-[9px] font-black text-gray-300 hover:text-gray-500 uppercase tracking-[0.2em] transition-colors">
                    &larr; Cancelar e Voltar
                </a>
            </form>
        </div>
    </div>
</div>

<style>
    @keyframes shake {
        0%, 100% { transform: translateX(0); }
        25% { transform: translateX(-5px); }
        75% { transform: translateX(5px); }
    }
    .animate-shake { animation: shake 0.2s ease-in-out 0s 2; }
</style>
{% endblock %}
